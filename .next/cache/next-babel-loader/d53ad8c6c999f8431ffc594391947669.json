{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport classnames from 'classnames';\nimport { ethers } from 'ethers';\nimport { Trans } from 'lib/../i18n';\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider';\nimport { V2MigrateButton } from 'lib/components/V2MigrateButton';\nimport { PoolCurrencyIcon } from 'lib/components/PoolCurrencyIcon';\nimport { PoolNumber } from 'lib/components/PoolNumber';\nimport { numberWithCommas } from 'lib/utils/numberWithCommas';\nexport const V2AccountTicket = props => {\n  var _balances3, _balances3$poolBalanc, _balances4, _balances4$podBalance;\n\n  const {\n    isPod,\n    v2dai\n  } = props;\n  const {\n    usersChainData\n  } = useContext(PoolDataContext);\n  const {\n    v2DaiPoolCommittedBalance,\n    v2DaiPodCommittedBalance,\n    v2DaiPodSharesBalance,\n    v2UsdcPoolCommittedBalance,\n    v2UsdcPodCommittedBalance,\n    v2UsdcPodSharesBalance\n  } = usersChainData || {};\n  let balances = {};\n  const decimals = v2dai ? 18 : 6;\n  const ticker = v2dai ? 'DAI' : 'USDC';\n\n  const formatBalance = (balBN, decimals) => {\n    if (!balBN) {\n      return null;\n    }\n\n    return numberWithCommas(ethers.utils.formatUnits(balBN, decimals), {\n      precision: 8\n    });\n  };\n\n  if (v2dai) {\n    balances = {\n      poolBalance: v2DaiPoolCommittedBalance,\n      poolBalanceFormatted: formatBalance(v2DaiPoolCommittedBalance, 18),\n      podBalance: v2DaiPodCommittedBalance,\n      podBalanceFormatted: formatBalance(v2DaiPodCommittedBalance, 18),\n      podShares: v2DaiPodSharesBalance\n    };\n  } else {\n    balances = {\n      poolBalance: v2UsdcPoolCommittedBalance,\n      poolBalanceFormatted: formatBalance(v2UsdcPoolCommittedBalance, 6),\n      podBalance: v2UsdcPodCommittedBalance,\n      podBalanceFormatted: formatBalance(v2UsdcPodCommittedBalance, 6),\n      podShares: v2UsdcPodSharesBalance\n    };\n  }\n\n  const havePoolBalance = balances.poolBalance;\n  const havePodBalance = balances.podBalance;\n\n  if (isPod) {\n    var _balances, _balances$podBalance;\n\n    if (!havePodBalance || balances.poolBalance && ((_balances = balances) === null || _balances === void 0 ? void 0 : (_balances$podBalance = _balances.podBalance) === null || _balances$podBalance === void 0 ? void 0 : _balances$podBalance.lt('1000000'))) {\n      return null;\n    }\n  } else {\n    var _balances2, _balances2$poolBalanc;\n\n    if (!havePoolBalance || ((_balances2 = balances) === null || _balances2 === void 0 ? void 0 : (_balances2$poolBalanc = _balances2.poolBalance) === null || _balances2$poolBalanc === void 0 ? void 0 : _balances2$poolBalanc.lt('1000000'))) {\n      return null;\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"relative ticket bg-no-repeat xs:mr-6 mb-6\",\n    key: `v2-account-pool-row-li-${ticker}`\n  }, __jsx(\"div\", {\n    className: classnames('absolute rounded-b-lg bg-no-repeat ticket-strip', {\n      'ticket--blue': (ticker === null || ticker === void 0 ? void 0 : ticker.toLowerCase()) === 'usdc'\n    })\n  }), __jsx(\"div\", {\n    className: \"flex items-center pl-4 pt-4 xs:p-4 xs:pt-6\"\n  }, __jsx(\"div\", {\n    className: \"flex w-full ml-1 sm:ml-4 leading-none\"\n  }, !isPod && ((_balances3 = balances) === null || _balances3 === void 0 ? void 0 : (_balances3$poolBalanc = _balances3.poolBalance) === null || _balances3$poolBalanc === void 0 ? void 0 : _balances3$poolBalanc.gte('1000000')) && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"w-1/2 xs:w-48 inline-block text-left text-xs xs:text-lg text-inverse relative mr-3 xs:mr-6 sm:mr-9 lg:mr-12\"\n  }, __jsx(Trans, {\n    i18nKey: \"v2PoolTickets\",\n    defaults: \"V2 {{ticker}} Pool Tickets: <bold>{{amount}}</bold>\",\n    components: {\n      bold: __jsx(\"span\", {\n        className: \"font-bold\"\n      }),\n      light: __jsx(\"span\", {\n        className: \"text-xs text-default-soft opacity-70\"\n      })\n    },\n    values: {\n      amount: numberWithCommas(ethers.utils.formatUnits(balances.poolBalance, decimals), {\n        precision: 0\n      }),\n      ticker\n    }\n  }), __jsx(\"div\", {\n    className: \"font-bold mt-1 opacity-40 text-xxxs\"\n  }, __jsx(PoolNumber, null, balances.poolBalanceFormatted), \" \", ticker), __jsx(\"div\", {\n    className: \"mt-2\"\n  }, __jsx(V2MigrateButton, {\n    balance: balances.poolBalance,\n    balanceFormatted: balances.poolBalanceFormatted,\n    type: 'pool',\n    ticker: ticker\n  })))), isPod && ((_balances4 = balances) === null || _balances4 === void 0 ? void 0 : (_balances4$podBalance = _balances4.podBalance) === null || _balances4$podBalance === void 0 ? void 0 : _balances4$podBalance.gte('1000000')) && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"w-9/12 inline-block text-left text-xs xs:text-lg text-inverse relative\"\n  }, __jsx(Trans, {\n    i18nKey: \"v2PodTickets\",\n    defaults: \"V2 {{ticker}} Pod Tickets: <bold>{{amount}}</bold>\",\n    components: {\n      bold: __jsx(\"span\", {\n        className: \"font-bold\"\n      }),\n      light: __jsx(\"span\", {\n        className: \"text-xs text-default-soft opacity-70\"\n      })\n    },\n    values: {\n      amount: numberWithCommas(ethers.utils.formatUnits(balances.podBalance, decimals), {\n        precision: 0\n      }),\n      ticker\n    }\n  }), __jsx(\"div\", {\n    className: \"font-bold mt-1 opacity-40 text-xxxs\"\n  }, __jsx(PoolNumber, null, numberWithCommas(ethers.utils.formatUnits(balances.podBalance, decimals), {\n    precision: 6\n  })), \" \", ticker), __jsx(\"div\", {\n    className: \"mt-2\"\n  }, __jsx(V2MigrateButton, {\n    balance: balances.podShares,\n    balanceFormatted: balances.podBalanceFormatted,\n    type: 'pod',\n    ticker: ticker\n  }))))), __jsx(\"div\", {\n    className: \"flex flex-col items-center pt-4\",\n    style: {\n      width: 114\n    }\n  }, __jsx(PoolCurrencyIcon, {\n    noMediaQueries: true,\n    noMargin: true,\n    pool: {\n      underlyingCollateralSymbol: ticker\n    },\n    className: \"-mt-2\"\n  }), __jsx(\"div\", {\n    className: \"capitalize mt-1 text-lg font-bold\"\n  }, ticker.toLowerCase())))));\n};","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/V2AccountTicket.jsx"],"names":["React","useContext","classnames","ethers","Trans","PoolDataContext","V2MigrateButton","PoolCurrencyIcon","PoolNumber","numberWithCommas","V2AccountTicket","props","isPod","v2dai","usersChainData","v2DaiPoolCommittedBalance","v2DaiPodCommittedBalance","v2DaiPodSharesBalance","v2UsdcPoolCommittedBalance","v2UsdcPodCommittedBalance","v2UsdcPodSharesBalance","balances","decimals","ticker","formatBalance","balBN","utils","formatUnits","precision","poolBalance","poolBalanceFormatted","podBalance","podBalanceFormatted","podShares","havePoolBalance","havePodBalance","lt","toLowerCase","gte","bold","light","amount","width","underlyingCollateralSymbol"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport classnames from 'classnames'\nimport { ethers } from 'ethers'\n\nimport { Trans } from 'lib/../i18n'\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider'\nimport { V2MigrateButton } from 'lib/components/V2MigrateButton'\nimport { PoolCurrencyIcon } from 'lib/components/PoolCurrencyIcon'\nimport { PoolNumber } from 'lib/components/PoolNumber'\nimport { numberWithCommas } from 'lib/utils/numberWithCommas'\n\nexport const V2AccountTicket = (\n  props,\n) => {\n  const { isPod, v2dai } = props\n  \n  const { usersChainData } = useContext(PoolDataContext)\n\n  const {\n    v2DaiPoolCommittedBalance,\n    v2DaiPodCommittedBalance,\n    v2DaiPodSharesBalance,\n    v2UsdcPoolCommittedBalance,\n    v2UsdcPodCommittedBalance,\n    v2UsdcPodSharesBalance,\n  } = usersChainData || {}\n\n  let balances = {}\n\n  const decimals = v2dai ? 18 : 6\n  const ticker = v2dai ? 'DAI' : 'USDC'\n\n  const formatBalance = (balBN, decimals) => {\n    if (!balBN) {\n      return null\n    }\n\n    return numberWithCommas(ethers.utils.formatUnits(\n      balBN,\n      decimals\n    ), {\n      precision: 8\n    })\n  }\n  \n  if (v2dai) {\n    balances = {\n      poolBalance: v2DaiPoolCommittedBalance,\n      poolBalanceFormatted: formatBalance(v2DaiPoolCommittedBalance, 18),\n      podBalance: v2DaiPodCommittedBalance,\n      podBalanceFormatted: formatBalance(v2DaiPodCommittedBalance, 18),\n      podShares: v2DaiPodSharesBalance,\n    }\n  } else {\n    balances = {\n      poolBalance: v2UsdcPoolCommittedBalance,\n      poolBalanceFormatted: formatBalance(v2UsdcPoolCommittedBalance, 6),\n      podBalance: v2UsdcPodCommittedBalance,\n      podBalanceFormatted: formatBalance(v2UsdcPodCommittedBalance, 6),\n      podShares: v2UsdcPodSharesBalance,\n    }\n  }\n\n  const havePoolBalance = balances.poolBalance\n  const havePodBalance = balances.podBalance\n\n  if (isPod) {\n    if (!havePodBalance || balances.poolBalance && balances?.podBalance?.lt('1000000')) {\n      return null\n    }\n  } else {\n    if (!havePoolBalance || balances?.poolBalance?.lt('1000000')) {\n      return null\n    }\n  }\n\n  return <>\n    <div\n      className='relative ticket bg-no-repeat xs:mr-6 mb-6'\n      key={`v2-account-pool-row-li-${ticker}`}\n    >\n      <div\n        className={classnames(\n          'absolute rounded-b-lg bg-no-repeat ticket-strip',\n          {\n            'ticket--blue': ticker?.toLowerCase() === 'usdc'\n          }\n        )}\n      />\n\n      <div className='flex items-center pl-4 pt-4 xs:p-4 xs:pt-6'>\n        \n        <div\n          className='flex w-full ml-1 sm:ml-4 leading-none'\n        >\n          {!isPod && balances?.poolBalance?.gte('1000000') && <>\n            <div\n              className='w-1/2 xs:w-48 inline-block text-left text-xs xs:text-lg text-inverse relative mr-3 xs:mr-6 sm:mr-9 lg:mr-12'\n            >\n              <Trans\n                i18nKey='v2PoolTickets'\n                defaults='V2 {{ticker}} Pool Tickets: <bold>{{amount}}</bold>'\n                components={{\n                  bold: <span className='font-bold' />,\n                  light: <span className='text-xs text-default-soft opacity-70' />,\n                }}\n                values={{\n                  amount: numberWithCommas(ethers.utils.formatUnits(\n                    balances.poolBalance,\n                    decimals,\n                  ), {\n                    precision: 0\n                  }),\n                  ticker\n                }}\n              />\n              <div\n                className='font-bold mt-1 opacity-40 text-xxxs'\n              >\n                <PoolNumber>{balances.poolBalanceFormatted}</PoolNumber> {ticker}\n              </div>\n\n              <div className='mt-2'>\n                <V2MigrateButton\n                  balance={balances.poolBalance}\n                  balanceFormatted={balances.poolBalanceFormatted}\n                  type={'pool'}\n                  ticker={ticker}\n                />\n              </div>\n            </div>\n          </>}\n\n          {isPod && balances?.podBalance?.gte('1000000') && <>\n            <div\n              className='w-9/12 inline-block text-left text-xs xs:text-lg text-inverse relative'\n            >\n              <Trans\n                i18nKey='v2PodTickets'\n                defaults='V2 {{ticker}} Pod Tickets: <bold>{{amount}}</bold>'\n                components={{\n                  bold: <span className='font-bold' />,\n                  light: <span className='text-xs text-default-soft opacity-70' />,\n                }}\n                values={{\n                  amount: numberWithCommas(ethers.utils.formatUnits(\n                    balances.podBalance,\n                    decimals,\n                  ), {\n                    precision: 0\n                  }),\n                  ticker\n                }}\n              />\n              <div\n                className='font-bold mt-1 opacity-40 text-xxxs'\n              >\n                <PoolNumber>{numberWithCommas(ethers.utils.formatUnits(\n                  balances.podBalance,\n                  decimals\n                ), {\n                  precision: 6\n                })}</PoolNumber> {ticker}\n              </div>\n\n              <div className='mt-2'>\n                <V2MigrateButton\n                  balance={balances.podShares}\n                  balanceFormatted={balances.podBalanceFormatted}\n                  type={'pod'}\n                  ticker={ticker}\n                />\n              </div>\n            </div>\n          </>}\n        \n        </div>\n        <div\n          className='flex flex-col items-center pt-4'\n          style={{\n            width: 114\n          }}\n        >\n          <PoolCurrencyIcon\n            noMediaQueries\n            noMargin\n            pool={{ underlyingCollateralSymbol: ticker }}\n            className='-mt-2'\n          />\n          <div\n            className='capitalize mt-1 text-lg font-bold'\n          >\n            {ticker.toLowerCase()}\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}