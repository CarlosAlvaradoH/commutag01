{"ast":null,"code":"import { batch, contract } from '@pooltogether/etherplex';\nimport LootBoxControllerAbi from '@pooltogether/loot-box/abis/LootBoxController';\n\nconst debug = require('debug')('pool-app:fetchExternalLootBoxData');\n\nexport const fetchExternalLootBoxData = async (provider, lootBoxControllerAddress, lootBoxAddress, tokenId) => {\n  try {\n    var _values$lootBoxContro, _values$lootBoxContro2, _values$lootBoxContro3, _values$lootBoxContro4;\n\n    const etherplexLootBoxControllerContract = contract('lootBoxController', LootBoxControllerAbi, lootBoxControllerAddress);\n    console.log(lootBoxAddress, tokenId);\n    const values = await batch(provider, etherplexLootBoxControllerContract.computeAddress(lootBoxAddress, tokenId));\n    console.log(values === null || values === void 0 ? void 0 : (_values$lootBoxContro = values.lootBoxController) === null || _values$lootBoxContro === void 0 ? void 0 : (_values$lootBoxContro2 = _values$lootBoxContro.computeAddress) === null || _values$lootBoxContro2 === void 0 ? void 0 : _values$lootBoxContro2[0]);\n    return {\n      computedLootBoxAddress: values === null || values === void 0 ? void 0 : (_values$lootBoxContro3 = values.lootBoxController) === null || _values$lootBoxContro3 === void 0 ? void 0 : (_values$lootBoxContro4 = _values$lootBoxContro3.computeAddress) === null || _values$lootBoxContro4 === void 0 ? void 0 : _values$lootBoxContro4[0],\n      loading: false\n    };\n  } catch (e) {\n    console.error(e);\n    throw {\n      name: 'fetchExternalLootBoxData Error',\n      message: `Error from Infura was: ${e.message}`\n    };\n  }\n};","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/utils/fetchExternalLootBoxData.js"],"names":["batch","contract","LootBoxControllerAbi","debug","require","fetchExternalLootBoxData","provider","lootBoxControllerAddress","lootBoxAddress","tokenId","etherplexLootBoxControllerContract","console","log","values","computeAddress","lootBoxController","computedLootBoxAddress","loading","e","error","name","message"],"mappings":"AAAA,SAASA,KAAT,EAAgBC,QAAhB,QAAgC,yBAAhC;AAEA,OAAOC,oBAAP,MAAiC,+CAAjC;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiB,mCAAjB,CAAd;;AAEA,OAAO,MAAMC,wBAAwB,GAAG,OACtCC,QADsC,EAEtCC,wBAFsC,EAGtCC,cAHsC,EAItCC,OAJsC,KAKnC;AACH,MAAI;AAAA;;AACF,UAAMC,kCAAkC,GAAGT,QAAQ,CACjD,mBADiD,EAEjDC,oBAFiD,EAGjDK,wBAHiD,CAAnD;AAKAI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,cAAZ,EAA4BC,OAA5B;AAEA,UAAMI,MAAM,GAAG,MAAMb,KAAK,CACxBM,QADwB,EAExBI,kCAAkC,CAC/BI,cADH,CACkBN,cADlB,EACkCC,OADlC,CAFwB,CAA1B;AAKAE,IAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ,aAAYA,MAAZ,gDAAYA,MAAM,CAAEE,iBAApB,oFAAY,sBAA2BD,cAAvC,2DAAY,uBAA4C,CAA5C,CAAZ;AAEA,WAAO;AACLE,MAAAA,sBAAsB,EAAEH,MAAF,aAAEA,MAAF,iDAAEA,MAAM,CAAEE,iBAAV,qFAAE,uBAA2BD,cAA7B,2DAAE,uBAA4C,CAA5C,CADnB;AAELG,MAAAA,OAAO,EAAE;AAFJ,KAAP;AAID,GAnBD,CAmBE,OAAOC,CAAP,EAAU;AACVP,IAAAA,OAAO,CAACQ,KAAR,CAAcD,CAAd;AACA,UAAM;AACJE,MAAAA,IAAI,EAAE,gCADF;AAEJC,MAAAA,OAAO,EAAG,0BAAyBH,CAAC,CAACG,OAAQ;AAFzC,KAAN;AAID;AACF,CAhCM","sourcesContent":["import { batch, contract } from '@pooltogether/etherplex'\n\nimport LootBoxControllerAbi from '@pooltogether/loot-box/abis/LootBoxController'\n\nconst debug = require('debug')('pool-app:fetchExternalLootBoxData')\n\nexport const fetchExternalLootBoxData = async (\n  provider,\n  lootBoxControllerAddress,\n  lootBoxAddress,\n  tokenId,\n) => {\n  try {\n    const etherplexLootBoxControllerContract = contract(\n      'lootBoxController',\n      LootBoxControllerAbi,\n      lootBoxControllerAddress\n    )\n    console.log(lootBoxAddress, tokenId)\n\n    const values = await batch(\n      provider,\n      etherplexLootBoxControllerContract\n        .computeAddress(lootBoxAddress, tokenId)\n    )\n    console.log(values?.lootBoxController?.computeAddress?.[0])\n\n    return {\n      computedLootBoxAddress: values?.lootBoxController?.computeAddress?.[0],\n      loading: false\n    }\n  } catch (e) {\n    console.error(e)\n    throw {\n      name: 'fetchExternalLootBoxData Error',\n      message: `Error from Infura was: ${e.message}`\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}