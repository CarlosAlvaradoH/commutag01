{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Fragment, useContext, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { useRouter } from 'next/router';\nimport { orderBy } from 'lodash';\nimport { TOKEN_IMAGES } from 'lib/constants';\nimport { useTranslation } from 'lib/../i18n';\nimport { ContributeToLootBoxDropdown } from 'lib/components/ContributeToLootBoxDropdown';\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider';\nimport { Erc20Image } from 'lib/components/Erc20Image';\nimport { EtherscanAddressLink } from 'lib/components/EtherscanAddressLink';\nimport { PoolNumber } from 'lib/components/PoolNumber';\nimport { displayAmountInEther } from 'lib/utils/displayAmountInEther';\nimport { numberWithCommas } from 'lib/utils/numberWithCommas';\nimport GiftIcon from 'assets/images/icon-gift@2x.png';\nexport var Erc20AwardsTable = function Erc20AwardsTable(props) {\n  _s();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var router = useRouter();\n  var basePath = props.basePath,\n      externalErc20Awards = props.externalErc20Awards,\n      historical = props.historical,\n      pool = props.pool;\n\n  var _useState = useState(false),\n      moreVisible = _useState[0],\n      setMoreVisible = _useState[1];\n\n  var handleShowMore = function handleShowMore(e) {\n    e.preventDefault();\n    setMoreVisible(true);\n    router.push(\"\".concat(basePath, \"#awards-table\"));\n  };\n\n  if (!externalErc20Awards) {\n    return null;\n  }\n\n  var balanceProperty = historical ? 'balanceAwardedBN' : 'balance';\n  var externalAwards = Object.keys(externalErc20Awards).map(function (key) {\n    return externalErc20Awards[key];\n  }).filter(function (award) {\n    var _award$balancePropert;\n\n    return award === null || award === void 0 ? void 0 : (_award$balancePropert = award[balanceProperty]) === null || _award$balancePropert === void 0 ? void 0 : _award$balancePropert.gt(0);\n  });\n  var sortedAwards = orderBy(externalAwards, function (_ref) {\n    var value = _ref.value;\n    return value || '';\n  }, ['desc']);\n  var awards = moreVisible ? sortedAwards : sortedAwards === null || sortedAwards === void 0 ? void 0 : sortedAwards.slice(0, 5);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    id: \"awards-table\",\n    className: \"mt-2 sm:mt-10\"\n  }, __jsx(\"div\", {\n    className: \"flex flex-col sm:flex-row justify-between sm:items-center\"\n  }, __jsx(\"div\", null, __jsx(\"h6\", {\n    className: \"text-green text-left\"\n  }, t('amountTokens', {\n    amount: sortedAwards.length\n  })), (pool === null || pool === void 0 ? void 0 : pool.externalAwardsUSD) && __jsx(React.Fragment, null, __jsx(\"h3\", {\n    className: \"mb-1\"\n  }, \"$\", numberWithCommas(pool === null || pool === void 0 ? void 0 : pool.externalAwardsUSD), \" \", t('value'))))), __jsx(\"div\", {\n    className: \"theme-light--no-padding text-inverse flex flex-col justify-between rounded-lg p-0 mt-4\"\n  }, __jsx(\"table\", {\n    className: \"table-fixed w-full text-xxxs xs:text-xxs sm:text-sm align-top\"\n  }, __jsx(\"tbody\", null, awards.length === 0 && __jsx(React.Fragment, null, __jsx(\"tr\", null, __jsx(\"td\", null, historical ? t('noOtherPrizesAwarded') : t('currentlyNoOtherPrizes')))), awards === null || awards === void 0 ? void 0 : awards.map(function (award) {\n    if (!award.name) {\n      return;\n    }\n\n    return __jsx(Fragment, {\n      key: award.address\n    }, __jsx(\"tr\", null, __jsx(\"td\", {\n      className: \"flex items-center py-2 text-left font-bold\"\n    }, __jsx(Erc20Image, {\n      address: award.address\n    }), \" \", __jsx(EtherscanAddressLink, {\n      address: award.address,\n      className: \"text-inverse\"\n    }, award.name.length > 20 ? __jsx(\"span\", {\n      className: \"truncate\"\n    }, award.name.substr(0, 20)) : award.name)), __jsx(\"td\", {\n      className: \"px-2 sm:px-3 py-2 text-left text-accent-1 truncate\"\n    }, __jsx(PoolNumber, null, displayAmountInEther(award[balanceProperty], {\n      precision: 6,\n      decimals: award.decimals\n    })), \" \", award.symbol.length > 20 ? __jsx(\"span\", {\n      className: \"truncate\"\n    }, award.symbol.substr(0, 20)) : award.symbol), __jsx(\"td\", {\n      className: \"py-2 font-bold\"\n    }, award.value ? \"$\".concat(numberWithCommas(award.value, {\n      precision: 2\n    })) : '')));\n  }))), externalAwards.length > 5 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"text-center\"\n  }, __jsx(motion.button, {\n    border: \"none\",\n    onClick: handleShowMore,\n    className: \"mt-6 mb-3 underline font-bold text-xxs xs:text-base sm:text-lg text-center\",\n    animate: moreVisible ? 'exit' : 'enter',\n    initial: \"enter\",\n    variants: {\n      enter: {\n        opacity: 1,\n        y: 0\n      },\n      exit: {\n        y: -10,\n        opacity: 0\n      }\n    }\n  }, t('showMore')))))));\n};\n\n_s(Erc20AwardsTable, \"Zd4I7Ie/PIbfxhAqQdxyK9X5Lfs=\", false, function () {\n  return [useTranslation, useRouter];\n});\n\n_c = Erc20AwardsTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"Erc20AwardsTable\");","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/Erc20AwardsTable.jsx"],"names":["React","Fragment","useContext","useState","motion","useRouter","orderBy","TOKEN_IMAGES","useTranslation","ContributeToLootBoxDropdown","PoolDataContext","Erc20Image","EtherscanAddressLink","PoolNumber","displayAmountInEther","numberWithCommas","GiftIcon","Erc20AwardsTable","props","t","router","basePath","externalErc20Awards","historical","pool","moreVisible","setMoreVisible","handleShowMore","e","preventDefault","push","balanceProperty","externalAwards","Object","keys","map","key","filter","award","gt","sortedAwards","value","awards","slice","amount","length","externalAwardsUSD","name","address","substr","precision","decimals","symbol","enter","opacity","y","exit"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { useRouter } from 'next/router'\nimport { orderBy } from 'lodash'\n\nimport { TOKEN_IMAGES } from 'lib/constants'\nimport { useTranslation } from 'lib/../i18n'\nimport { ContributeToLootBoxDropdown } from 'lib/components/ContributeToLootBoxDropdown'\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider'\nimport { Erc20Image } from 'lib/components/Erc20Image'\nimport { EtherscanAddressLink } from 'lib/components/EtherscanAddressLink'\nimport { PoolNumber } from 'lib/components/PoolNumber'\nimport { displayAmountInEther } from 'lib/utils/displayAmountInEther'\nimport { numberWithCommas } from 'lib/utils/numberWithCommas'\n\nimport GiftIcon from 'assets/images/icon-gift@2x.png'\n\nexport const Erc20AwardsTable = (props) => {\n  const { t } = useTranslation()\n  const router = useRouter()\n\n  const { basePath, externalErc20Awards, historical, pool } = props\n\n  const [moreVisible, setMoreVisible] = useState(false)\n  \n  const handleShowMore = (e) => {\n    e.preventDefault()\n\n    setMoreVisible(true)\n\n    router.push(\n      `${basePath}#awards-table`,\n    )\n  }\n\n\n\n  if (!externalErc20Awards) {\n    return null\n  }\n\n  const balanceProperty = historical ? 'balanceAwardedBN' : 'balance'\n\n  let externalAwards = Object.keys(externalErc20Awards)\n    .map(key => externalErc20Awards[key])\n    .filter(award => award?.[balanceProperty]?.gt(0))\n\n  const sortedAwards = orderBy(externalAwards, ({ value }) => value || '', ['desc'])\n  const awards = moreVisible ? sortedAwards : sortedAwards?.slice(0, 5)\n\n  return <>\n    <div\n      id='awards-table'\n      className='mt-2 sm:mt-10'\n    >\n      <div className='flex flex-col sm:flex-row justify-between sm:items-center'>\n        <div>\n\n          <h6\n            className='text-green text-left'\n          >\n            {t('amountTokens', {\n              amount: sortedAwards.length\n            })}\n          </h6>\n\n          {pool?.externalAwardsUSD && <>\n            <h3\n              className='mb-1'\n            >\n              ${numberWithCommas(pool?.externalAwardsUSD)} {t('value')}\n            </h3>\n          </>}\n        </div>\n      </div> \n      \n        <div\n          className='theme-light--no-padding text-inverse flex flex-col justify-between rounded-lg p-0 mt-4'\n        >\n          <table\n            className='table-fixed w-full text-xxxs xs:text-xxs sm:text-sm align-top'\n          >\n            <tbody>\n              {awards.length === 0 && <>\n                <tr>\n                  <td>\n                    {historical ? t('noOtherPrizesAwarded') : t('currentlyNoOtherPrizes')}\n                  </td>\n                </tr>\n              </>}\n\n              {awards?.map(award => {\n                if (!award.name) {\n                  return\n                }\n\n                return <Fragment\n                  key={award.address}\n                >\n                  <tr>\n                    <td\n                      className='flex items-center py-2 text-left font-bold'\n                    >\n                      <Erc20Image\n                        address={award.address}\n                      /> <EtherscanAddressLink\n                        address={award.address}\n                        className='text-inverse'\n                      >\n                        {award.name.length > 20 ? <span className='truncate'>{award.name.substr(0, 20)}</span> : award.name}\n                      </EtherscanAddressLink>\n                    </td>\n                    <td\n                      className='px-2 sm:px-3 py-2 text-left text-accent-1 truncate'\n                    >\n                      <PoolNumber>\n                        {displayAmountInEther(\n                          award[balanceProperty], {\n                            precision: 6,\n                            decimals: award.decimals\n                          }\n                        )}\n                      </PoolNumber> {award.symbol.length > 20 ? <span className='truncate'>{award.symbol.substr(0, 20)}</span> : award.symbol}\n                    </td>\n                    <td\n                      className='py-2 font-bold'\n                    >\n                      {award.value ? `$${numberWithCommas(award.value, { precision: 2 })}` : ''}\n                    </td>\n                  </tr>\n                </Fragment>\n              })}\n            </tbody>\n          </table>\n\n          {externalAwards.length > 5 && <>\n            <div className='text-center'>\n              <motion.button\n                border='none'\n                onClick={handleShowMore}\n                className='mt-6 mb-3 underline font-bold text-xxs xs:text-base sm:text-lg text-center'\n                animate={moreVisible ? 'exit' : 'enter'}\n                initial='enter'\n                variants={{\n                  enter: {\n                    opacity: 1,\n                    y: 0,\n                  },\n                  exit: {\n                    y: -10,\n                    opacity: 0,\n                  }\n                }}\n              >\n                {t('showMore')}\n              </motion.button>\n            </div>\n          </>}\n        </div>\n\n\n\n    </div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}