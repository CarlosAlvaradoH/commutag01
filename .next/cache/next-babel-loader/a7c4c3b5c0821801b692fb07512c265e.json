{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport { motion } from 'framer-motion';\nimport { useTranslation } from 'lib/../i18n';\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider';\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider';\nimport { AccountTicket } from 'lib/components/AccountTicket';\nimport { V2AccountTicket } from 'lib/components/V2AccountTicket';\nimport { BlankStateMessage } from 'lib/components/BlankStateMessage';\nimport { ButtonLink } from 'lib/components/ButtonLink';\nimport { TicketsLoader } from 'lib/components/TicketsLoader';\nimport { usePlayerQuery } from 'lib/hooks/usePlayerQuery';\nimport { testAddress } from 'lib/utils/testAddress';\nimport TicketIcon from 'assets/images/PT-Depositing-2-simplified.svg';\nexport var AccountTickets = function AccountTickets() {\n  _s();\n\n  var _daiBalances$poolBala, _daiBalances$podBalan, _usdcBalances$poolBal, _usdcBalances$podBala;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useContext = useContext(AuthControllerContext),\n      chainId = _useContext.chainId,\n      pauseQueries = _useContext.pauseQueries,\n      usersAddress = _useContext.usersAddress;\n\n  var _useContext2 = useContext(PoolDataContext),\n      pools = _useContext2.pools,\n      usersChainData = _useContext2.usersChainData;\n\n  var playerAddressError = testAddress(usersAddress);\n  var blockNumber = -1;\n\n  var _usePlayerQuery = usePlayerQuery(pauseQueries, chainId, usersAddress, blockNumber, playerAddressError),\n      status = _usePlayerQuery.status,\n      playerData = _usePlayerQuery.data,\n      error = _usePlayerQuery.error,\n      isFetching = _usePlayerQuery.isFetching;\n\n  var daiBalances = {\n    poolBalance: usersChainData === null || usersChainData === void 0 ? void 0 : usersChainData.v2DaiPoolCommittedBalance,\n    podBalance: usersChainData === null || usersChainData === void 0 ? void 0 : usersChainData.v2DaiPodCommittedBalance,\n    podSharesBalance: usersChainData === null || usersChainData === void 0 ? void 0 : usersChainData.v2DaiPodSharesBalance\n  };\n  var usdcBalances = {\n    poolBalance: usersChainData === null || usersChainData === void 0 ? void 0 : usersChainData.v2UsdcPoolCommittedBalance,\n    podBalance: usersChainData === null || usersChainData === void 0 ? void 0 : usersChainData.v2UsdcPodCommittedBalance,\n    podSharesBalance: usersChainData === null || usersChainData === void 0 ? void 0 : usersChainData.v2UsdcPodSharesBalance\n  };\n  var hasNoV2Balance = true;\n  hasNoV2Balance = (daiBalances === null || daiBalances === void 0 ? void 0 : (_daiBalances$poolBala = daiBalances.poolBalance) === null || _daiBalances$poolBala === void 0 ? void 0 : _daiBalances$poolBala.lt('1000000')) && (daiBalances === null || daiBalances === void 0 ? void 0 : (_daiBalances$podBalan = daiBalances.podBalance) === null || _daiBalances$podBalan === void 0 ? void 0 : _daiBalances$podBalan.lt('1000000')) && (usdcBalances === null || usdcBalances === void 0 ? void 0 : (_usdcBalances$poolBal = usdcBalances.poolBalance) === null || _usdcBalances$poolBal === void 0 ? void 0 : _usdcBalances$poolBal.lt('1000000')) && (usdcBalances === null || usdcBalances === void 0 ? void 0 : (_usdcBalances$podBala = usdcBalances.podBalance) === null || _usdcBalances$podBala === void 0 ? void 0 : _usdcBalances$podBala.lt('1000000'));\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"mt-16\"\n  }, __jsx(\"h5\", {\n    className: \"font-normal text-accent-2 mb-4\"\n  }, t('myTickets')), !playerData ? __jsx(React.Fragment, null, __jsx(TicketsLoader, null)) : playerData.length === 0 && hasNoV2Balance ? __jsx(React.Fragment, null, __jsx(BlankStateMessage, null, __jsx(\"div\", {\n    className: \"mb-10 font-bold\"\n  }, __jsx(\"img\", {\n    src: TicketIcon,\n    className: \"mx-auto w-16 mb-8\"\n  }), t('youCurrentlyHaveNoTickets'), __jsx(\"br\", null), t('depositInAPoolNow')), __jsx(ButtonLink, {\n    href: \"/\",\n    as: \"/\"\n  }, t('viewPools')))) : __jsx(React.Fragment, null, __jsx(React.Fragment, null, __jsx(motion.div, null, __jsx(\"div\", {\n    className: \"flex flex-wrap\"\n  }, playerData.map(function (playerData) {\n    var pool = pools === null || pools === void 0 ? void 0 : pools.find(function (pool) {\n      return pool.poolAddress === playerData.prizePool.id;\n    });\n\n    if (!pool) {\n      return;\n    }\n\n    return __jsx(AccountTicket, {\n      isLink: true,\n      key: \"account-pool-row-\".concat(pool.poolAddress),\n      pool: pool,\n      player: playerData\n    });\n  }), __jsx(V2AccountTicket, {\n    v2dai: true,\n    key: \"v2-dai-account-ticket-pool\"\n  }), __jsx(V2AccountTicket, {\n    isPod: true,\n    v2dai: true,\n    key: \"v2-dai-account-ticket-pod\"\n  }), __jsx(V2AccountTicket, {\n    v2usdc: true,\n    key: \"v2-usdc-account-ticket-pool\"\n  }), __jsx(V2AccountTicket, {\n    isPod: true,\n    v2usdc: true,\n    key: \"v2-usdc-account-ticket-pod\"\n  })))))));\n};\n\n_s(AccountTickets, \"WAFDWxu5KUIRP4W7Ad1VVbPCLEQ=\", false, function () {\n  return [useTranslation, usePlayerQuery];\n});\n\n_c = AccountTickets;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountTickets\");","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/AccountTickets.jsx"],"names":["React","useContext","motion","useTranslation","AuthControllerContext","PoolDataContext","AccountTicket","V2AccountTicket","BlankStateMessage","ButtonLink","TicketsLoader","usePlayerQuery","testAddress","TicketIcon","AccountTickets","t","chainId","pauseQueries","usersAddress","pools","usersChainData","playerAddressError","blockNumber","status","playerData","data","error","isFetching","daiBalances","poolBalance","v2DaiPoolCommittedBalance","podBalance","v2DaiPodCommittedBalance","podSharesBalance","v2DaiPodSharesBalance","usdcBalances","v2UsdcPoolCommittedBalance","v2UsdcPodCommittedBalance","v2UsdcPodSharesBalance","hasNoV2Balance","lt","length","map","pool","find","poolAddress","prizePool","id"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport { motion } from 'framer-motion'\n\nimport { useTranslation } from 'lib/../i18n'\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider'\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider'\nimport { AccountTicket } from 'lib/components/AccountTicket'\nimport { V2AccountTicket } from 'lib/components/V2AccountTicket'\nimport { BlankStateMessage } from 'lib/components/BlankStateMessage'\nimport { ButtonLink } from 'lib/components/ButtonLink'\nimport { TicketsLoader } from 'lib/components/TicketsLoader'\nimport { usePlayerQuery } from 'lib/hooks/usePlayerQuery'\nimport { testAddress } from 'lib/utils/testAddress'\n\nimport TicketIcon from 'assets/images/PT-Depositing-2-simplified.svg'\n\nexport const AccountTickets = () => {\n  const { t } = useTranslation()\n  \n  const { chainId, pauseQueries, usersAddress } = useContext(AuthControllerContext)\n  const { pools, usersChainData } = useContext(PoolDataContext)\n\n\n  const playerAddressError = testAddress(usersAddress)\n\n  const blockNumber = -1\n  const {\n    status,\n    data: playerData,\n    error,\n    isFetching\n  } = usePlayerQuery(pauseQueries, chainId, usersAddress, blockNumber, playerAddressError)\n\n  const daiBalances = {\n    poolBalance: usersChainData?.v2DaiPoolCommittedBalance,\n    podBalance: usersChainData?.v2DaiPodCommittedBalance,\n    podSharesBalance: usersChainData?.v2DaiPodSharesBalance,\n  }\n\n  const usdcBalances = {\n    poolBalance: usersChainData?.v2UsdcPoolCommittedBalance,\n    podBalance: usersChainData?.v2UsdcPodCommittedBalance,\n    podSharesBalance: usersChainData?.v2UsdcPodSharesBalance,\n  }\n\n  let hasNoV2Balance = true\n  hasNoV2Balance = daiBalances?.poolBalance?.lt('1000000') &&\n    daiBalances?.podBalance?.lt('1000000') &&\n    usdcBalances?.poolBalance?.lt('1000000') &&\n    usdcBalances?.podBalance?.lt('1000000')\n\n        \n  return <>\n    <div\n      className='mt-16'\n    >\n      <h5\n        className='font-normal text-accent-2 mb-4'\n      >\n        {t('myTickets')}\n      </h5>\n        \n      {!playerData ? <>\n        <TicketsLoader />\n      </> :\n        (playerData.length === 0 && hasNoV2Balance) ? <>\n          <BlankStateMessage>\n            <div\n              className='mb-10 font-bold'\n            >\n              <img\n                src={TicketIcon}\n                className='mx-auto w-16 mb-8'\n              />\n\n              {t('youCurrentlyHaveNoTickets')}\n              <br />{t('depositInAPoolNow')}\n            </div>\n            <ButtonLink\n              href='/'\n              as='/'\n            >\n              {t('viewPools')}\n            </ButtonLink>\n          </BlankStateMessage>\n        </> : <>\n          <>\n            <motion.div>\n              <div className='flex flex-wrap'>\n\n                {playerData.map(playerData => {\n                  const pool = pools?.find(pool => pool.poolAddress === playerData.prizePool.id)\n\n                  if (!pool) {\n                    return\n                  }\n\n                  return <AccountTicket\n                    isLink\n                    key={`account-pool-row-${pool.poolAddress}`}\n                    pool={pool}\n                    player={playerData}\n                  />\n                })}\n\n\n                <V2AccountTicket\n                  v2dai\n                  key={`v2-dai-account-ticket-pool`}\n                />\n                <V2AccountTicket\n                  isPod\n                  v2dai\n                  key={`v2-dai-account-ticket-pod`}\n                />\n              \n                <V2AccountTicket\n                  v2usdc\n                  key={`v2-usdc-account-ticket-pool`}\n                />\n                <V2AccountTicket\n                  isPod\n                  v2usdc\n                  key={`v2-usdc-account-ticket-pod`}\n                />\n                \n                \n              </div>\n\n            </motion.div>\n          </>\n        </>\n      }\n    </div>\n\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}