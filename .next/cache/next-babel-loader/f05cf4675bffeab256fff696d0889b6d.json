{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Fragment, useContext } from 'react';\nimport ParentSize from '@vx/responsive/lib/components/ParentSize';\nimport { localPoint } from '@vx/event';\nimport { Group } from '@vx/group';\nimport { LinePath } from '@vx/shape';\nimport { useTooltip, useTooltipInPortal, TooltipWithBounds, defaultStyles } from '@vx/tooltip';\nimport { scaleTime, scaleLinear } from '@vx/scale';\nimport { extent, max } from 'd3-array';\nimport { LinearGradient } from '@vx/gradient';\nimport { ThemeContext } from 'lib/components/contextProviders/ThemeContextProvider';\nimport { formatDate } from 'lib/utils/formatDate';\nimport { numberWithCommas } from 'lib/utils/numberWithCommas'; // data accessors\n\nconst getX = d => d.date;\n\nconst getY = d => d.value; // const height = 200\n\n\nconst margin = {\n  top: 20,\n  bottom: 0,\n  left: 20,\n  right: 20\n};\nexport function DateValueLineGraph(props) {\n  const {\n    tooltipOpen,\n    tooltipLeft,\n    tooltipTop,\n    tooltipData,\n    hideTooltip,\n    showTooltip\n  } = useTooltip();\n  const {\n    containerRef,\n    TooltipInPortal\n  } = useTooltipInPortal({\n    detectBounds: true,\n    scroll: true\n  });\n  const {\n    theme\n  } = useContext(ThemeContext);\n  const circleColor = theme === 'light' ? '#401C94' : '#ffffff';\n  const id = props.id;\n  const series = props.data;\n  const allData = series.reduce((rec, d) => rec.concat(d), []);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"h-32 sm:h-20\"\n  }, __jsx(ParentSize, {\n    className: \"graph-container\",\n    debounceTime: 100\n  }, ({\n    height,\n    width\n  }) => {\n    const xMax = width - margin.left - margin.right;\n    const yMax = height - margin.top - margin.bottom; // scales\n\n    const xScale = scaleTime({\n      range: [0, xMax],\n      domain: extent(allData, getX)\n    });\n    const yScale = scaleLinear({\n      range: [yMax, 0],\n      domain: [0, max(allData, getY)]\n    });\n    return __jsx(Fragment, {\n      key: `${id}-fragment`\n    }, tooltipOpen && tooltipData && __jsx(React.Fragment, null, __jsx(TooltipInPortal, {\n      key: Math.random(),\n      top: tooltipTop,\n      left: tooltipLeft,\n      className: \"vx-chart-tooltip\"\n    }, props.valueLabel || 'Value', \": \", __jsx(\"strong\", null, numberWithCommas(tooltipData.value, {\n      precision: 0\n    })), __jsx(\"span\", {\n      className: \"block mt-2\"\n    }, \"Date: \", __jsx(\"strong\", null, formatDate(tooltipData.date / 1000, {\n      short: true\n    }))))), __jsx(\"svg\", {\n      ref: containerRef,\n      width: width,\n      height: height\n    }, width > 8 && series.map((lineData, i) => __jsx(Group, {\n      key: `${id}-group-lines-${i}`,\n      left: margin.left,\n      right: margin.right,\n      top: margin.top\n    }, __jsx(LinearGradient, {\n      id: \"vx-gradient\",\n      vertical: false\n    }, __jsx(\"stop\", {\n      offset: \"0%\",\n      stopColor: \"#ff9304\"\n    }), __jsx(\"stop\", {\n      offset: \"10%\",\n      stopColor: \"#ff04ea\"\n    }), __jsx(\"stop\", {\n      offset: \"20%\",\n      stopColor: \"#9b4beb\"\n    }), __jsx(\"stop\", {\n      offset: \"30%\",\n      stopColor: \"#0e8dd6\"\n    }), __jsx(\"stop\", {\n      offset: \"40%\",\n      stopColor: \"#3be8ff\"\n    }), __jsx(\"stop\", {\n      offset: \"50%\",\n      stopColor: \"#07d464\"\n    }), __jsx(\"stop\", {\n      offset: \"60%\",\n      stopColor: \"#ebf831\"\n    }), __jsx(\"stop\", {\n      offset: \"78%\",\n      stopColor: \"#ff04ab\"\n    }), __jsx(\"stop\", {\n      offset: \"90%\",\n      stopColor: \"#8933eb\"\n    }), __jsx(\"stop\", {\n      offset: \"100%\",\n      stopColor: \"#3b89ff\"\n    })), lineData === null || lineData === void 0 ? void 0 : lineData.map((data, j) => {\n      return __jsx(React.Fragment, null, __jsx(LinePath, {\n        key: `${id}-lines-${i}`,\n        data: lineData,\n        x: d => xScale(getX(d)),\n        y: d => yScale(getY(d)),\n        stroke: 'url(#vx-gradient)',\n        strokeWidth: 3\n      }));\n    }), lineData === null || lineData === void 0 ? void 0 : lineData.map((data, j) => {\n      return __jsx(React.Fragment, null, __jsx(\"circle\", {\n        key: `${id}-circle-${i}-${j}`,\n        r: 4,\n        cx: xScale(getX(data)),\n        cy: yScale(getY(data)),\n        stroke: circleColor,\n        fill: circleColor,\n        className: \"cursor-pointer\",\n        onMouseLeave: hideTooltip,\n        onTouchMove: event => {\n          const coords = localPoint(event.target.ownerSVGElement, event);\n          showTooltip({\n            tooltipLeft: coords.x,\n            tooltipTop: coords.y,\n            tooltipData: data\n          });\n        },\n        onMouseMove: event => {\n          const coords = localPoint(event.target.ownerSVGElement, event);\n          showTooltip({\n            tooltipLeft: coords.x,\n            tooltipTop: coords.y,\n            tooltipData: data\n          });\n        }\n      }));\n    })))));\n  })));\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/DateValueLineGraph.jsx"],"names":["React","Fragment","useContext","ParentSize","localPoint","Group","LinePath","useTooltip","useTooltipInPortal","TooltipWithBounds","defaultStyles","scaleTime","scaleLinear","extent","max","LinearGradient","ThemeContext","formatDate","numberWithCommas","getX","d","date","getY","value","margin","top","bottom","left","right","DateValueLineGraph","props","tooltipOpen","tooltipLeft","tooltipTop","tooltipData","hideTooltip","showTooltip","containerRef","TooltipInPortal","detectBounds","scroll","theme","circleColor","id","series","data","allData","reduce","rec","concat","height","width","xMax","yMax","xScale","range","domain","yScale","Math","random","valueLabel","precision","short","map","lineData","i","j","event","coords","target","ownerSVGElement","x","y"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext } from 'react'\nimport ParentSize from '@vx/responsive/lib/components/ParentSize'\nimport { localPoint } from '@vx/event'\nimport { Group } from '@vx/group'\nimport { LinePath } from '@vx/shape'\nimport { useTooltip, useTooltipInPortal, TooltipWithBounds, defaultStyles } from '@vx/tooltip';\nimport { scaleTime, scaleLinear } from '@vx/scale'\nimport { extent, max } from 'd3-array'\nimport { LinearGradient } from '@vx/gradient'\n\nimport { ThemeContext } from 'lib/components/contextProviders/ThemeContextProvider'\nimport { formatDate } from 'lib/utils/formatDate'\nimport { numberWithCommas } from 'lib/utils/numberWithCommas'\n\n// data accessors\nconst getX = (d) => d.date\nconst getY = (d) => d.value\n\n// const height = 200\nconst margin = {\n  top: 20,\n  bottom: 0,\n  left: 20,\n  right: 20,\n}\n\nexport function DateValueLineGraph(props) {\n  const {\n    tooltipOpen,\n    tooltipLeft,\n    tooltipTop,\n    tooltipData,\n    hideTooltip,\n    showTooltip,\n  } = useTooltip()\n\n  const {\n    containerRef,\n    TooltipInPortal,\n  } = useTooltipInPortal({\n    detectBounds: true,\n    scroll: true,\n  })\n\n  const { theme } = useContext(ThemeContext)\n\n  const circleColor = theme === 'light' ? '#401C94' : '#ffffff'\n\n  const id = props.id\n  const series = props.data\n  const allData = series.reduce((rec, d) => rec.concat(d), [])\n\n  return <>\n    <div\n      className='h-32 sm:h-20'\n    >\n      <ParentSize\n        className='graph-container'\n        debounceTime={100}\n      >\n        {({ height, width }) => {\n          const xMax = width - margin.left - margin.right\n          const yMax = height - margin.top - margin.bottom\n\n          // scales\n          const xScale = scaleTime({\n            range: [0, xMax],\n            domain: extent(allData, getX),\n          })\n          const yScale = scaleLinear({\n            range: [yMax, 0],\n            domain: [0, max(allData, getY)],\n          })\n\n          return <Fragment\n            key={`${id}-fragment`}\n          >\n            {tooltipOpen && tooltipData && <>\n              <TooltipInPortal\n                key={Math.random()}\n                top={tooltipTop}\n                left={tooltipLeft}\n                className='vx-chart-tooltip'\n              >\n                {props.valueLabel || 'Value'}: <strong>\n                  {numberWithCommas(tooltipData.value, { precision: 0 })}\n                </strong>\n                <span className='block mt-2'>\n                  Date: <strong>{formatDate(\n                    tooltipData.date / 1000,\n                    {\n                      short: true\n                    }\n                  )}\n                  </strong>\n                </span>\n              </TooltipInPortal>\n            </>}\n\n            <svg\n              ref={containerRef}\n              width={width}\n              height={height}\n            >\n              {width > 8 && series.map((lineData, i) => (\n                <Group\n                  key={`${id}-group-lines-${i}`}\n                  left={margin.left}\n                  right={margin.right}\n                  top={margin.top}\n                >\n                    <LinearGradient\n                      id='vx-gradient'\n                      vertical={false} \n                    >\n                      <stop offset='0%' stopColor='#ff9304'></stop>\n                      <stop offset='10%' stopColor='#ff04ea'></stop>\n                      <stop offset='20%' stopColor='#9b4beb'></stop>\n                      <stop offset='30%' stopColor='#0e8dd6'></stop>\n                      <stop offset='40%' stopColor='#3be8ff'></stop>\n                      <stop offset='50%' stopColor='#07d464'></stop>\n                      <stop offset='60%' stopColor='#ebf831'></stop>\n                      <stop offset='78%' stopColor='#ff04ab'></stop>\n                      <stop offset='90%' stopColor='#8933eb'></stop>\n                      <stop offset='100%' stopColor='#3b89ff'></stop>\n                    </LinearGradient>\n\n\n                  {lineData?.map((data, j) => {\n                    return <>\n                      <LinePath\n                        key={`${id}-lines-${i}`}\n                        data={lineData}\n                        x={d => xScale(getX(d))}\n                        y={d => yScale(getY(d))}\n                        stroke={'url(#vx-gradient)'}\n                        strokeWidth={3}\n                      />\n                    </>\n                  })}\n\n                  {lineData?.map((data, j) => {\n                    return <>\n                      <circle\n                        key={`${id}-circle-${i}-${j}`}\n                        r={4}\n                        cx={xScale(getX(data))}\n                        cy={yScale(getY(data))}\n                        stroke={circleColor}\n                        fill={circleColor}\n                        className='cursor-pointer'\n                        onMouseLeave={hideTooltip}\n                        onTouchMove={(event) => {\n                          const coords = localPoint(event.target.ownerSVGElement, event);\n\n                          showTooltip({\n                            tooltipLeft: coords.x,\n                            tooltipTop: coords.y,\n                            tooltipData: data\n                          })\n                        }}\n                        onMouseMove={(event) => {\n                          const coords = localPoint(event.target.ownerSVGElement, event);\n\n                          showTooltip({\n                            tooltipLeft: coords.x,\n                            tooltipTop: coords.y,\n                            tooltipData: data\n                          })\n                        }}\n                      />\n                    </>\n                  })}\n\n                </Group>\n              ))}\n            </svg>\n          </Fragment>\n        }}\n      </ParentSize>\n    </div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}